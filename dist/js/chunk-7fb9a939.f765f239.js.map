{"version":3,"sources":["webpack:///./src/page/user/favorite/list.vue?8c25","webpack:///./src/api/user.js","webpack:///./src/page/user/favorite/list.vue?89ed","webpack:///src/page/user/favorite/list.vue","webpack:///./src/page/user/favorite/list.vue?2788","webpack:///./src/page/user/favorite/list.vue"],"names":["login","data","request","url","method","GetUser","GetFavorite","params","DelFavorite","id","GetCoupon","ExchangeCoupon","code","render","_vm","this","_h","$createElement","_c","_self","attrs","finished","on","onLoad","model","value","callback","$$v","loading","expression","_l","item","index","key","onClose","slot","_v","staticRenderFns","component"],"mappings":"gHAAA,yBAAwsB,EAAG,G,kCCA3sB,4NACO,SAASA,EAAMC,GAClB,OAAOC,eAAQ,CACXC,IAAK,cACLC,OAAQ,OACRH,KAAMA,IAIP,SAASI,IACZ,OAAOH,eAAQ,CACXC,IAAK,QACLC,OAAQ,QAIT,SAASE,EAAYL,GACxB,OAAOC,eAAQ,CACXC,IAAK,YACLC,OAAQ,MACRG,OAAQ,CAAEN,UAIX,SAASO,EAAYC,GACxB,OAAOP,eAAQ,CACXC,IAAK,YACLC,OAAQ,OACRH,KAAMQ,IAuBP,SAASC,EAAUT,GACtB,OAAOC,eAAQ,CACXC,IAAK,UACLC,OAAQ,MACRG,OAAQ,CAAEN,UAIX,SAASU,EAAeC,GAC3B,OAAOV,eAAQ,CACXC,IAAK,kBACLC,OAAQ,OACRG,OAAQ,CAAEK,KAAMA,O,gEC/DxB,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,UAAUF,EAAG,WAAW,CAACE,MAAM,CAAC,SAAWN,EAAIO,UAAUC,GAAG,CAAC,KAAOR,EAAIS,QAAQC,MAAM,CAACC,MAAOX,EAAW,QAAEY,SAAS,SAAUC,GAAMb,EAAIc,QAAQD,GAAKE,WAAW,YAAYf,EAAIgB,GAAIhB,EAAQ,MAAE,SAASiB,EAAKC,GAAO,OAAOd,EAAG,MAAM,CAACe,IAAID,GAAO,CAACd,EAAG,iBAAiB,CAACE,MAAM,CAAC,cAAc,GAAG,WAAWN,EAAIoB,QAAQH,KAAQ,CAACb,EAAG,eAAe,CAACE,MAAM,CAAC,QAAUW,KAAQb,EAAG,OAAO,CAACE,MAAM,CAAC,KAAO,SAASe,KAAK,SAAS,CAACrB,EAAIsB,GAAG,SAAS,IAAI,MAAK,IAAI,IAC5jBC,EAAkB,G,wBCoBtB,GACE,KADF,WAEI,MAAJ,CACM,SAAN,EACM,UAAN,EACM,KAAN,GACM,KAAN,IAGE,QAAF,CACI,QADJ,SACA,GACM,OAAN,cAAQ,IAAR,OACQ,OAAR,GACU,IAAV,OACU,IAAV,OACU,IAAV,UACY,EAAZ,QACY,MACF,IAAV,QACY,KAAZ,iBACc,QAAd,WACA,iBACc,OAAd,OAAc,CAAd,wBACgB,EAAhB,eACgB,EAAhB,iBAEc,EAAd,WACA,sBAGY,SAIR,OAzBJ,WAyBM,IAAN,OACM,KAAN,OACM,OAAN,OAAM,GAAN,kBACQ,IAAR,SACQ,EAAR,0BACU,EAAV,gBAEQ,EAAR,WACA,sBACU,EAAV,mBChEgd,I,wBCQ5cC,EAAY,eACd,EACAzB,EACAwB,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-7fb9a939.f765f239.js","sourcesContent":["import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&lang=less&\"","import request from \"../config/request\";\nexport function login(data) {\n    return request({\n        url: '/user/login',\n        method: 'post',\n        data: data\n    })\n}\n\nexport function GetUser() {\n    return request({\n        url: '/user',\n        method: 'get',\n    })\n}\n\nexport function GetFavorite(data) {\n    return request({\n        url: '/favorite',\n        method: 'get',\n        params: { data }\n    })\n}\n\nexport function DelFavorite(id) {\n    return request({\n        url: '/favorite',\n        method: 'post',\n        data: id\n    })\n}\n\nexport function GetAddressList() {\n    return request({\n        url: '/User/GetAddressList',\n        method: 'get',\n    })\n}\n\nexport function GetAddressById(id) {\n    return request({\n        url: '/User/GetAddressById',\n        method: 'get',\n        params: { id }\n    })\n}\n\n\n\n\n\nexport function GetCoupon(data) {\n    return request({\n        url: '/coupon',\n        method: 'get',\n        params: { data }\n    })\n}\n\nexport function ExchangeCoupon(code) {\n    return request({\n        url: '/exchangeCoupon',\n        method: 'Post',\n        params: { code: code }\n    })\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('headerNav',{attrs:{\"title\":\"我的收藏\"}}),_c('van-list',{attrs:{\"finished\":_vm.finished},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('div',{key:index},[_c('van-swipe-cell',{attrs:{\"right-width\":65,\"on-close\":_vm.onClose(item)}},[_c('product-card',{attrs:{\"product\":item}}),_c('span',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_vm._v(\"删除\")])],1)],1)}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n    <headerNav title=\"我的收藏\"/>\n    <van-list\n        v-model=\"loading\"\n        :finished=\"finished\"\n        @load=\"onLoad\"\n        >\n        <div v-for=\"(item,index) in list\" :key=\"index\">\n            <van-swipe-cell :right-width=\"65\" :on-close=\"onClose(item)\">\n                <product-card :product='item' />\n                    <span slot=\"right\" >删除</span>\n                </van-swipe-cell>\n        </div>\n    </van-list>\n</div>\n</template>\n\n<script>\nimport { GetFavorite ,DelFavorite} from \"@/api/user.js\";\n\nexport default {\n    data(){\n        return{\n            loading:false,\n            finished:false,\n            list:[],\n            page:0,\n        }\n    },\n    methods:{\n        onClose(item){\n            return function(clickPosition, instance) {\n                switch (clickPosition) {\n                    case 'left':\n                    case 'cell':\n                    case 'outside':\n                    instance.close();\n                    break;\n                    case 'right':\n                        this.$dialog.confirm({\n                            message: '确定删除吗？'\n                        }).then(() => {\n                            DelFavorite(item.id).then(response=>{\n                                this.$toast('删除成功');\n                                this.$router.go(0);  \n                            })\n                            instance.close();\n                        }).catch(() => {\n                        // on cancel\n                        });\n                    break;\n                }\n            }\n        },\n        onLoad() {\n            this.page++;\n            GetFavorite().then(response=>{\n                let data = response.data\n                data.list.forEach(item => {\n                    this.list.push(item);\n                });\n                this.loading = false;\n                if(data.TotalPage<=this.page){\n                    this.finished = true;\n                }\n            \n            })\n        }\n    },\n}\n</script>\n\n<style lang=\"less\">\n.van-swipe-cell{\n    &__left,\n    &__right {\n      color: #FFFFFF;\n      font-size: 15px;\n      width: 65px;\n      height: 100px;\n      display: inline-block;\n      text-align: center;\n      line-height: 100px;\n      background-color: #F44;\n    }\n}\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=0f07bba1&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}