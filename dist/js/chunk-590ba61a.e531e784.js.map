{"version":3,"sources":["webpack:///./src/page/user/aftersale/apply.vue?71dc","webpack:///./src/page/user/aftersale/apply.vue?44d2","webpack:///src/page/user/aftersale/apply.vue","webpack:///./src/page/user/aftersale/apply.vue?f2ca","webpack:///./src/page/user/aftersale/apply.vue","webpack:///./src/api/order.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","model","value","callback","$$v","servicetype","expression","on","$event","_l","product","i","key","remark","onClickShowPicker","maxamount","amount","staticClass","onRead","image","removeImage","_v","showPicker","columns","onCancel","onConfirm","staticRenderFns","component","GetMyOrder","request","url","method","GetOrderAfterSale","GetOrderGoodsById","id","params","SubmitOrder","data"],"mappings":"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","file":"js/chunk-590ba61a.e531e784.js","sourcesContent":["import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./apply.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./apply.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"font-size\":\"12px\"}},[_c('headerNav',{attrs:{\"title\":\"申请售后\"}}),_c('van-radio-group',{model:{value:(_vm.servicetype),callback:function ($$v) {_vm.servicetype=$$v},expression:\"servicetype\"}},[_c('van-cell-group',[_c('van-cell',{attrs:{\"title\":\"服务类型\"}}),_c('van-cell',{attrs:{\"title\":\"退款\",\"clickable\":\"\"},on:{\"click\":function($event){_vm.servicetype = '1'}}},[_c('van-radio',{attrs:{\"name\":\"1\"}})],1),_c('van-cell',{attrs:{\"title\":\"退货\",\"clickable\":\"\"},on:{\"click\":function($event){_vm.servicetype = '2'}}},[_c('van-radio',{attrs:{\"name\":\"2\"}})],1)],1)],1),_c('div',{staticStyle:{\"margin-top\":\"10px\"}},_vm._l((_vm.products),function(product,i){return _c('product-card',{key:i,attrs:{\"product\":product,\"iscard\":\"\"}})}),1),_c('van-cell-group',{staticStyle:{\"margin-top\":\"10px\"}},[_c('van-cell',{attrs:{\"title\":\"申请原因\",\"label\":_vm.remark,\"is-link\":\"\"},on:{\"click\":_vm.onClickShowPicker}}),_c('van-field',{attrs:{\"label\":\"退款金额\",\"placeholder\":\"请输入金额\",\"error-message\":'可退金额:'+_vm.maxamount,\"type\":\"number\"},model:{value:(_vm.amount),callback:function ($$v) {_vm.amount=$$v},expression:\"amount\"}}),_c('van-field',{attrs:{\"label\":\"问题描述\",\"type\":\"textarea\",\"placeholder\":\"请您在此描述问题\",\"rows\":\"3\",\"autosize\":\"\"}}),_c('van-cell',{staticClass:\"uploader\",staticStyle:{\"font-size\":\"16px\"}},[_c('van-uploader',{attrs:{\"after-read\":_vm.onRead,\"accept\":\"image/gif, image/jpeg\",\"multiple\":\"\"}},[_c('van-icon',{attrs:{\"name\":\"photograph\"}})],1),_vm._l((_vm.images),function(image,i){return _c('div',{key:image,staticClass:\"uploader-image\"},[_c('img',{attrs:{\"src\":image}}),_c('van-icon',{attrs:{\"name\":\"close\"},on:{\"click\":function($event){return _vm.removeImage(i,image)}}})],1)})],2)],1),_c('van-cell-group',{staticStyle:{\"margin-top\":\"10px\"}},[_c('van-field',{attrs:{\"label\":\"联系人\"}}),_c('van-field',{attrs:{\"label\":\"联系电话\"}})],1),_c('van-button',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"size\":\"large\",\"type\":\"primary\"}},[_vm._v(\"提交\")]),_c('van-actionsheet',{model:{value:(_vm.showPicker),callback:function ($$v) {_vm.showPicker=$$v},expression:\"showPicker\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"title\":\"申请原因\",\"columns\":_vm.columns},on:{\"cancel\":_vm.onCancel,\"confirm\":_vm.onConfirm}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","</<template>\n    <div  style=\"font-size:12px;\">\n        <headerNav title=\"申请售后\"/>\n        <van-radio-group v-model=\"servicetype\">\n            <van-cell-group>\n                <van-cell title=\"服务类型\"  />\n                <van-cell title=\"退款\" clickable @click=\"servicetype = '1'\">\n                <van-radio name=\"1\" />\n                </van-cell>\n                <van-cell title=\"退货\" clickable @click=\"servicetype = '2'\">\n                <van-radio name=\"2\" />\n                </van-cell>\n            </van-cell-group>\n        </van-radio-group>\n        <div style=\"margin-top: 10px;\" >\n            <product-card v-for=\"(product,i) in products\" :key=\"i\" :product='product' iscard ></product-card>\n        </div>\n\n        <van-cell-group style=\"margin-top: 10px;\">\n            <van-cell title=\"申请原因\" :label=\"remark\" is-link @click=\"onClickShowPicker\" />\n            \n            <van-field label=\"退款金额\" placeholder=\"请输入金额\" v-model=\"amount\" :error-message=\"'可退金额:'+maxamount\" type='number' />\n\n            <van-field\n                label=\"问题描述\"\n                type=\"textarea\"\n                placeholder=\"请您在此描述问题\"\n                rows=\"3\"\n                autosize\n            />\n            <van-cell class=\"uploader\" style=\"font-size: 16px;\">\n                <van-uploader :after-read=\"onRead\" accept=\"image/gif, image/jpeg\" multiple>\n                    <van-icon name=\"photograph\" />\n                </van-uploader>\n                <div v-for=\"(image,i) in images\" :key=\"image\" class=\"uploader-image\" >\n                    <img :src=\"image\" />\n                    <van-icon name=\"close\" @click=\"removeImage(i,image)\" />\n                </div>\n            </van-cell>\n            \n        </van-cell-group>\n\n        \n        <van-cell-group style=\"margin-top: 10px;\">\n            <van-field label=\"联系人\"  />\n            <van-field label=\"联系电话\"  />\n        </van-cell-group>\n\n        <van-button size=\"large\" type=\"primary\" style=\"margin-top: 10px;\" >提交</van-button>\n        <van-actionsheet v-model=\"showPicker\" >\n            <van-picker show-toolbar\n  title=\"申请原因\" :columns=\"columns\" @cancel=\"onCancel\" @confirm=\"onConfirm\" />\n        </van-actionsheet>\n    </div>\n</template>\n\n<script>\nimport {GetOrderGoodsById} from '@/api/order'\nexport default {\n    data(){\n        return{\n            servicetype:'1',\n            showPicker:false,\n            remark:'我不想要了',\n            amount:'50.50',\n            maxamount:'50.50',\n            images:[],\n            columns: ['我不想要了','退运费','少件/漏发','未按约定时间发货','发错货', '质量问题', '商品与页面描述不符', '商品损坏', '缺少件'],\n            products: [\n                // {\n                //     id:1,\n                //     imageURL:\n                //         \"https://img10.360buyimg.com/mobilecms/s88x88_jfs/t17572/12/840082281/351445/e1828c58/5aab8dbbNedb77d88.jpg\",\n                //     title: \"良品铺子 肉肉聚汇猪肉脯 猪蹄卤 辣味小吃520g\",\n                //     desc: \"0.670kg/件，肉肉聚汇520g\",\n                //     quantity: 2,\n                //     price:'50.5',\n                //     max:2,\n                //     min:0,\n                // },\n                // {\n                //     id:1,\n                //     imageURL:\n                //         \"https://img10.360buyimg.com/mobilecms/s88x88_jfs/t22720/128/1410375403/319576/8dbd859f/5b5e69b3Nf4f0e9e7.jpg\",\n                //     title: \"元朗 鸡蛋卷 饼干糕点 中秋礼盒 广东特产680g\",\n                //     desc: \"1.320kg/件\",\n                //     quantity: 1,\n                //     price:'225.5',\n                //     max:1,\n                //     min:0,\n                // },\n            ]\n        }\n    },\n    created(){\n        this.onLoadMainDatas()\n    },\n    methods:{\n        onLoadMainDatas(){\n            this.products = []\n            let id = this.$route.query.id\n            GetOrderGoodsById(id).then(Response=>{\n                let data = Response.data.goods\n                this.products.push(data)\n\n            })\n        },\n        onClickShowPicker(){\n                this.showPicker=true;\n        },\n        onCancel() {\n            this.showPicker=false;\n        },\n        onConfirm(value, index) {\n            this.remark=value;\n            this.showPicker=false;\n        },\n        onRead(file) {\n            console.log(file.length);\n            if(file.length==undefined){\n                this.images.push(file.content);\n            }else{\n                file.forEach(item => {\n                    this.images.push(item.content);\n                });\n            }\n            console.log(file)\n        },\n        removeImage(index,image){\n            this.images.splice(index,1);\n        }\n    }\n\n}\n</script>\n\n<style lang=\"less\">\n.uploader{\n    font-size: 16px;\n    .van-uploader{\n        float: left;\n    }\n    &-image{\n        margin-left: 10px;position: relative;height: 50px;width: 50px;border: 1px solid #e5e7ea;float: left;margin-top: 5px;\n        img{\n           width: 50px; \n        }\n        i{\n            position: absolute;\n            top: -6px;\n            right: -6px;\n            font-size: 8px;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./apply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./apply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./apply.vue?vue&type=template&id=018afbce&\"\nimport script from \"./apply.vue?vue&type=script&lang=js&\"\nexport * from \"./apply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./apply.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from \"@/config/request\";\r\n\r\n\r\nexport function GetMyOrder() {\r\n    return request({\r\n        url: '/myOrder',\r\n        method: 'get',\r\n    })\r\n}\r\nexport function GetOrderAfterSale() {\r\n    return request({\r\n        url: '/afterSale',\r\n        method: 'get',\r\n    })\r\n}\r\nexport function GetOrderGoodsById(id) {\r\n    return request({\r\n        url: '/orderGoodsById',\r\n        method: 'get',\r\n        params: { id }\r\n    })\r\n}\r\nexport function SubmitOrder(data) {\r\n    return request({\r\n        url: '/products/submitOrder',\r\n        method: 'post',\r\n        data: data\r\n    })\r\n}"],"sourceRoot":""}