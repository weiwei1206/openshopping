{"version":3,"sources":["webpack:///./src/page/user/coupon/list.vue?4ed3","webpack:///./src/api/user.js","webpack:///./src/page/user/coupon/list.vue?b910","webpack:///src/page/user/coupon/list.vue","webpack:///./src/page/user/coupon/list.vue?8ea1","webpack:///./src/page/user/coupon/list.vue"],"names":["login","data","request","url","method","GetUser","GetFavorite","params","DelFavorite","id","GetCoupon","ExchangeCoupon","code","render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","couponCode","expression","exchangeLoading","on","onExchange","slot","_v","finished","onLoad","loading","_l","item","index","key","class","show","staticClass","SignPosition","_s","Sign","_e","Coupon","Condition","Name","BeginDate","EndDate","Info","$event","onShowInfo","Id","useFinished","onLoadUse","useLoading","endFinished","onLoadEnd","endLoading","staticRenderFns","components","computed","methods","component"],"mappings":"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","file":"js/chunk-e510ad46.2fbfd783.js","sourcesContent":["import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&lang=less&\"","import request from \"../config/request\";\nexport function login(data) {\n    return request({\n        url: '/user/login',\n        method: 'post',\n        data: data\n    })\n}\n\nexport function GetUser() {\n    return request({\n        url: '/user',\n        method: 'get',\n    })\n}\n\nexport function GetFavorite(data) {\n    return request({\n        url: '/favorite',\n        method: 'get',\n        params: { data }\n    })\n}\n\nexport function DelFavorite(id) {\n    return request({\n        url: '/favorite',\n        method: 'post',\n        data: id\n    })\n}\n\nexport function GetAddressList() {\n    return request({\n        url: '/User/GetAddressList',\n        method: 'get',\n    })\n}\n\nexport function GetAddressById(id) {\n    return request({\n        url: '/User/GetAddressById',\n        method: 'get',\n        params: { id }\n    })\n}\n\n\n\n\n\nexport function GetCoupon(data) {\n    return request({\n        url: '/coupon',\n        method: 'get',\n        params: { data }\n    })\n}\n\nexport function ExchangeCoupon(code) {\n    return request({\n        url: '/exchangeCoupon',\n        method: 'Post',\n        params: { code: code }\n    })\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('headerNav',{attrs:{\"title\":\"我的优惠券\"}}),_c('van-cell-group',[_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"placeholder\":\"请输入优惠码\"},model:{value:(_vm.couponCode),callback:function ($$v) {_vm.couponCode=$$v},expression:\"couponCode\"}},[_c('van-button',{attrs:{\"slot\":\"button\",\"size\":\"small\",\"type\":\"primary\",\"loading\":_vm.exchangeLoading},on:{\"click\":_vm.onExchange},slot:\"button\"},[_vm._v(\"兑换\")])],1)],1),_c('van-tabs',[_c('van-tab',{attrs:{\"title\":\"未使用\"}},[_c('ul',[_c('van-list',{attrs:{\"finished\":_vm.finished},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('li',{key:index,class:'couponitem '+(item.show?'show':'')},[_c('div',{staticClass:\"couponTop\"},[_c('div',{staticClass:\"cpnamount\"},[_c('div',{staticClass:\"amountWrap\"},[_c('div',{staticClass:\"amount\"},[(item.SignPosition=='left')?_c('span',{staticClass:\"amountSign\"},[_vm._v(_vm._s(item.Sign))]):_vm._e(),_c('span',{staticClass:\"amountNum\"},[_vm._v(_vm._s(item.Coupon))]),(item.SignPosition=='right')?_c('span',{staticClass:\"amountSign\"},[_vm._v(_vm._s(item.Sign))]):_vm._e()]),_c('div',{staticClass:\"condition\"},[_c('span',[_vm._v(_vm._s(item.Condition))])])])]),_c('div',{staticClass:\"couponInfoWrap\"},[_c('div',{staticClass:\"cpninfo\"},[_c('div',{staticClass:\"detail\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.Name))])])]),_c('div',{staticClass:\"validity\"},[_c('span',[_vm._v(_vm._s(item.BeginDate)+\"-\"+_vm._s(item.EndDate)+\"\\n                                    \")])]),_c('van-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"}},[_vm._v(\"立即使用\")])],1)]),(item.Info!='')?_c('div',{staticClass:\"couponMid \"},[_c('span',[_vm._v(\"详细信息\")]),_c('van-icon',{staticClass:\"down\",attrs:{\"name\":\"arrow\"},on:{\"click\":function($event){return _vm.onShowInfo(item.Id,index)}}})],1):_vm._e(),(item.Info!='')?_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"text\"},[_vm._v(\"\\n                                \"+_vm._s(item.Info)+\"\\n                            \")])]):_vm._e()])}),0)],1)]),_c('van-tab',{attrs:{\"title\":\"使用记录\"}},[_c('ul',{staticClass:\"gray\"},[_c('van-list',{attrs:{\"finished\":_vm.useFinished},on:{\"load\":_vm.onLoadUse},model:{value:(_vm.useLoading),callback:function ($$v) {_vm.useLoading=$$v},expression:\"useLoading\"}},_vm._l((_vm.useList),function(item,index){return _c('li',{key:index,staticClass:\"couponitem\"},[_c('div',{staticClass:\"couponTop\"},[_c('div',{staticClass:\"cpnamount\"},[_c('div',{staticClass:\"amountWrap\"},[_c('div',{staticClass:\"amount\"},[(item.SignPosition=='left')?_c('span',{staticClass:\"amountSign\"},[_vm._v(_vm._s(item.Sign))]):_vm._e(),_c('span',{staticClass:\"amountNum\"},[_vm._v(_vm._s(item.Coupon))]),(item.SignPosition=='right')?_c('span',{staticClass:\"amountSign\"},[_vm._v(_vm._s(item.Sign))]):_vm._e()]),_c('div',{staticClass:\"condition\"},[_c('span',[_vm._v(_vm._s(item.Condition))])])])]),_c('div',{staticClass:\"couponInfoWrap\"},[_c('div',{staticClass:\"cpninfo\"},[_c('div',{staticClass:\"detail\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.Name))])])]),_c('div',{staticClass:\"validity\"},[_c('span',[_vm._v(_vm._s(item.BeginDate)+\"-\"+_vm._s(item.EndDate)+\"\\n                                    \")])])])])])}),0)],1)]),_c('van-tab',{attrs:{\"title\":\"已过期\"}},[_c('ul',{staticClass:\"gray\"},[_c('van-list',{attrs:{\"finished\":_vm.endFinished},on:{\"load\":_vm.onLoadEnd},model:{value:(_vm.endLoading),callback:function ($$v) {_vm.endLoading=$$v},expression:\"endLoading\"}},_vm._l((_vm.endList),function(item,index){return _c('li',{key:index,staticClass:\"couponitem\"},[_c('div',{staticClass:\"couponTop\"},[_c('div',{staticClass:\"cpnamount\"},[_c('div',{staticClass:\"amountWrap\"},[_c('div',{staticClass:\"amount\"},[(item.SignPosition=='left')?_c('span',{staticClass:\"amountSign\"},[_vm._v(_vm._s(item.Sign))]):_vm._e(),_c('span',{staticClass:\"amountNum\"},[_vm._v(_vm._s(item.Coupon))]),(item.SignPosition=='right')?_c('span',{staticClass:\"amountSign\"},[_vm._v(_vm._s(item.Sign))]):_vm._e()]),_c('div',{staticClass:\"condition\"},[_c('span',[_vm._v(_vm._s(item.Condition))])])])]),_c('div',{staticClass:\"couponInfoWrap\"},[_c('div',{staticClass:\"cpninfo\"},[_c('div',{staticClass:\"detail\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.Name))])])]),_c('div',{staticClass:\"validity\"},[_c('span',[_vm._v(_vm._s(item.BeginDate)+\"-\"+_vm._s(item.EndDate)+\"\\n                                    \")])])])])])}),0)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <headerNav title=\"我的优惠券\"/>\n        <van-cell-group>\n        <van-field\n            center\n            clearable\n            placeholder=\"请输入优惠码\"\n            \n            v-model=\"couponCode\"\n        >\n            <van-button slot=\"button\" size=\"small\" type=\"primary\" :loading=\"exchangeLoading\" @click=\"onExchange\">兑换</van-button>\n        </van-field>\n        </van-cell-group>\n        <van-tabs >\n            <van-tab title=\"未使用\">\n                <ul>\n                    <van-list\n                            v-model=\"loading\"\n                            :finished=\"finished\"\n                            @load=\"onLoad\"\n                            >\n                        <li  v-for=\"(item,index) in list\" :key=\"index\" :class=\"'couponitem '+(item.show?'show':'') \">\n                            <div class=\"couponTop\">\n                                <div class=\"cpnamount\">\n                                    <div class=\"amountWrap\">\n                                        <div class=\"amount\">\n                                                <span class=\"amountSign\" v-if=\"item.SignPosition=='left'\" >{{item.Sign}}</span>\n                                                <span class=\"amountNum\">{{item.Coupon}}</span>\n                                                <span class=\"amountSign\" v-if=\"item.SignPosition=='right'\" >{{item.Sign}}</span>                   \n                                        </div>\n                                        <div class=\"condition\">\n                                            <span>{{item.Condition}}</span>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"couponInfoWrap\">\n                                    <div class=\"cpninfo\">\n                                        <div class=\"detail\">\n                                        <span class=\"name\">{{item.Name}}</span></div>\n                                    </div>\n                                    <div class=\"validity\">\n                                        <span>{{item.BeginDate}}-{{item.EndDate}}\n                                        </span>\n                                    </div>\n                                    <van-button type=\"danger\" size=\"mini\">立即使用</van-button>\n                                </div>\n                            </div>\n                            <div class=\"couponMid \" v-if=\"item.Info!=''\">\n                                <span>详细信息</span>\n                                <van-icon name=\"arrow\" class=\"down\" @click=\"onShowInfo(item.Id,index)\" />\n                            </div>\n                            <div class=\"info\"  v-if=\"item.Info!=''\" >\n                                <div class=\"text\">\n                                    {{item.Info}}\n                                </div>\n                            </div>\n                        </li>\n                    </van-list>\n                </ul>\n            </van-tab>\n            <van-tab title=\"使用记录\">\n                <ul class=\"gray\" >\n                    <van-list\n                            v-model=\"useLoading\"\n                            :finished=\"useFinished\"\n                            @load=\"onLoadUse\"\n                            >\n                        <li  v-for=\"(item,index) in useList\" :key=\"index\" class=\"couponitem\">\n                            <div class=\"couponTop\">\n                                <div class=\"cpnamount\">\n                                    <div class=\"amountWrap\">\n                                        <div class=\"amount\">\n                                                <span class=\"amountSign\" v-if=\"item.SignPosition=='left'\" >{{item.Sign}}</span>\n                                                <span class=\"amountNum\">{{item.Coupon}}</span>\n                                                <span class=\"amountSign\" v-if=\"item.SignPosition=='right'\" >{{item.Sign}}</span>                   \n                                        </div>\n                                        <div class=\"condition\">\n                                            <span>{{item.Condition}}</span>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"couponInfoWrap\">\n                                    <div class=\"cpninfo\">\n                                        <div class=\"detail\">\n                                        <span class=\"name\">{{item.Name}}</span></div>\n                                    </div>\n                                    <div class=\"validity\">\n                                        <span>{{item.BeginDate}}-{{item.EndDate}}\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </li>\n                    </van-list>\n                </ul>\n            </van-tab>\n            <van-tab title=\"已过期\">\n                <ul class=\"gray\" >\n                    \n                    <van-list\n                            v-model=\"endLoading\"\n                            :finished=\"endFinished\"\n                            @load=\"onLoadEnd\"\n                            >\n                        <li  v-for=\"(item,index) in endList\" :key=\"index\" class=\"couponitem\">\n                            <div class=\"couponTop\">\n                                <div class=\"cpnamount\">\n                                    <div class=\"amountWrap\">\n                                        <div class=\"amount\">\n                                                <span class=\"amountSign\" v-if=\"item.SignPosition=='left'\" >{{item.Sign}}</span>\n                                                <span class=\"amountNum\">{{item.Coupon}}</span>\n                                                <span class=\"amountSign\" v-if=\"item.SignPosition=='right'\" >{{item.Sign}}</span>                   \n                                        </div>\n                                        <div class=\"condition\">\n                                            <span>{{item.Condition}}</span>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"couponInfoWrap\">\n                                    <div class=\"cpninfo\">\n                                        <div class=\"detail\">\n                                        <span class=\"name\">{{item.Name}}</span></div>\n                                    </div>\n                                    <div class=\"validity\">\n                                        <span>{{item.BeginDate}}-{{item.EndDate}}\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </li>\n                    </van-list>\n                </ul>\n            </van-tab>\n        </van-tabs>\n    </div>\n</template>\n\n<script>\nimport { GetCoupon,ExchangeCoupon } from \"@/api/user.js\";\n\nexport default {\n  components: {\n  },\n  data() {\n    return {\n            loading:false,\n            finished:false,\n            list:[],\n            page:0,\n\n            \n            useLoading:false,\n            useFinished:false,\n            useList:[],\n            usePage:0,\n\n            \n            endLoading:false,\n            endFinished:false,\n            endList:[],\n            endPage:0,\n\n            couponCode:'',\n            exchangeLoading:false,\n    };\n  },\n  computed: {\n  },\n  methods: {\n        onLoad() {\n            this.page++;\n            GetCoupon({page:this.page}).then(response=>{\n                let data = response.data\n                data.List.forEach(item => {\n                    item.show=false;\n                    this.list.push(item);\n                });\n                this.loading = false;\n                if(data.TotalPage<=this.page){\n                    this.finished = true;\n                }\n            \n            })\n        },\n        onShowInfo(id,index){\n            this.list.forEach((item,itemIndex) => {\n                if(index==itemIndex){\n                    item.show=!item.show;\n                    return;\n                }\n            });\n        },\n        onLoadUse() {\n            this.usePage++;\n            GetCoupon({page:this.usePage}).then(response=>{\n                let data = response.data\n                data.List.forEach(item => {\n                    this.useList.push(item);\n                });\n                this.useLoading = false;\n                if(data.TotalPage<=this.usePage){\n                    this.useFinished = true;\n                }\n            \n            })\n        },\n        onLoadEnd() {\n            this.endPage++;\n            GetCoupon({page:this.endPage}).then(response=>{\n                let data = response.data\n                data.List.forEach(item => {\n                    this.endList.push(item);\n                });\n                this.endLoading = false;\n                if(data.TotalPage<=this.endPage){\n                    this.endFinished = true;\n                }\n            \n            })\n        },\n        onExchange(){\n            if(this.exchangeLoading){\n                return;\n            }\n            this.exchangeLoading=true;\n            ExchangeCoupon(this.couponCode).then(response=>{\n                this.$toast('兑换成功'); \n                this.exchangeLoading=false;\n                this.$router.go(0); \n            })\n        }\n  }\n};\n</script>\n\n<style lang=\"less\">\n.couponitem {\n        padding: 0 10px;\n  margin-top: 10px;\n  position: relative;\n  font-size: 12px;\n  .couponTop {\n    background-color: #fcebeb;\n    border-left: 1px solid #f3d4d4;\n    border-right: 1px solid #f3d4d4;\n    border-bottom: 1px dashed  #f3d4d4;\n    border-radius: 8px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    .cpnamount {\n      position: relative;\n      height: 90px;\n      width: 34.08%;\n      text-align: center;\n      float: left;\n      border-right: 1px dashed #f3d4d4;\n    }\n    .amountWrap {\n      width: 100%;\n      position: absolute;\n      top: 50%;\n      -webkit-transform: translate(0, -50%);\n      transform: translate(0, -50%);\n      .amount {\n        font-size: 15px;\n        .amountSign {\n          margin-right: 3px;\n        }\n        .amountNum {\n          font-size: 39px;\n          line-height: 1;\n          font-weight: bold;\n        }\n      }\n    }\n  }\n  .couponInfoWrap {\n    position: relative;\n    margin-left: 37.465%;\n    height: 90px;\n    .cpninfo {\n      position: absolute;\n      top: 26px;\n      -webkit-transform: translate(0, -50%);\n      transform: translate(0, -50%);\n      width: 100%;\n      .detail {\n        padding-right: 15px;\n        word-break: break-all;\n        .name {\n          font-size: 13px;\n          color: #000;\n        }\n      }\n    }\n    .validity {\n        position: absolute;\n        bottom: 16px;\n        font-size: 10px;\n    }\n    button{\n        right: 16px;\n        position: absolute;\n        bottom: 16px;\n    }\n  }\n  .couponMid {\n    position: relative;\n    height: 31px;\n    line-height: 31px;\n    padding-left: 16px;\n    font-size: 12px;\n    \n    background-color: #fcebeb;\n    border-left: 1px solid #f3d4d4;\n    border-right: 1px solid #f3d4d4;\n    border-bottom: 1px solid #f3d4d4;\n    border-radius: 8px;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    i{\n        right: 16px;\n        position: absolute;\n        top: 8px;\n         -webkit-transform: rotate(90deg);\n        transform: rotate(90deg);   \n    }\n  }\n  \n  .info{\n      display: none;\n      background-color: #fcebeb;\n    border-left: 1px solid #f3d4d4;\n    border-right: 1px solid #f3d4d4;\n    border-bottom: 1px solid #f3d4d4;\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\npadding: 10px 25px 12px 15px;\n    font-size: 12px;\n  }\n}\n  .show{\n      \n  .couponMid {\n          border-bottom: 1px dashed #f3d4d4;\n          border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n    i{\n         -webkit-transform: rotate(-90deg);\n        transform: rotate(-90deg);   \n    }\n  }\n  .info{\n      display: block;\n  }\n  }\n  .gray{\n      -webkit-filter: grayscale(100%);filter:progid:DXImageTransform.Microsoft.BasicImage(graysale=1);\n  }\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=051cf178&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}